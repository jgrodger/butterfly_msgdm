---
title: "R Notebook"
output: html_notebook
---

---
title: "Processing butterfly data from UKBMS"
output: html_notebook
---


This script loads ukbms data for records, sites and species. It cleans the data, 
renames columns for ease of use, filters by various criteria, including coverage 
and sampling effort, and saves data for further use, and including extracting 
environmental data from matching grid cells in butterflies_combine_env_data.Rmd.

#### Load packages.
```{r}
here::i_am("Scripts//Rmd_Scripts//random_records_gabi.Rmd")


library(tidyverse)
library(here)

```

#### Data.
```{r}

# UKBMS records data extracted by David Roy on 10th March 2023
records <- read_csv(here("./Data/CSV_Data/ukbms_Rogers_10-3-23.csv"))

rand_rec <- sample(nrow(records), size = 250000, replace = FALSE)

records_gabi <- records[rand_rec, ]

write_csv(records_gabi, here("./Data/CSV_Data/gabi_ukbms_Rogers_10-3-23.csv"))

```